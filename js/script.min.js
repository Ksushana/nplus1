(() => {
  const MOBILE = 863;
  const TABLET = 1023;

  window.isMobile = function () {
    return window.matchMedia(`(max-width: ${MOBILE}px)`).matches;
  };

  window.isTablet = function () {
    return window.matchMedia(`(max-width: ${TABLET}px)`).matches;
  };

  window.isDesktop = function () {
    return window.matchMedia(`(min-width: ${TABLET + 1}px)`).matches;
  };

  window.isMobileSafari = () => {
    const ua = window.navigator.userAgent;
    const iOS = !!ua.match(/iP(ad|od|hone)/i);
    const webkit = !!ua.match(/WebKit/i);
    return iOS && webkit && !ua.match(/CriOS/i) && !ua.match(/OPiOS/i);
  };
})();

'use strict';

(() => {

var paralax = document.querySelector('.landing__cyclists');

var moveCoef = 0.1;

window.addEventListener("scroll", scroll);
window.addEventListener("resize", scroll);
scroll();

function scroll() {
  var r = paralax.getBoundingClientRect();

  var paralaxYCenter = r.y + r.height / 2;
  var scrollYCenter = window.innerHeight / 2;

  var move = (paralaxYCenter - scrollYCenter) * moveCoef - 10;

  if(isMobile()) {
    var paralaxYCenter = r.y;
    var scrollYCenter = window.innerHeight + 150;
    var move = (paralaxYCenter - scrollYCenter) * moveCoef - 300;
  }

  paralax.style.transform = "translateX(" + move + "px";
}
})();


'use strict';

(() => {
  const followBlock = document.querySelector('.follow-btn');
  const followList = document.querySelector('.follow-btn__list');
  const followBtn = document.querySelector('.follow-btn');
  const followBtnCross = document.querySelector('.follow-btn__opened');
  const followBtnOpen = document.querySelector('.follow-btn__closed');
  function hide(e) {
    const target = e.target;
    if (target !== followBlock) {
      followList.classList.remove("is-shown");
      followBtn.classList.remove("follow-btn__open");
    }
  }

  function open() {
    followBtn.classList.add("follow-btn__open");
    followList.classList.add("is-shown");
  }

  function close() {
    followBtn.classList.remove("follow-btn__open");
    followList.classList.remove("is-shown");
  }

  document.addEventListener("click", hide, true);
  followBtnOpen.addEventListener("click", open);
  followBtnCross.addEventListener("click", close);
})();

function submittedForm() {
  const submitBtn = document.querySelector('.subscribe-form__submit');
  const sentBlock = document.querySelector('.subscribe-form__sent');

  submitBtn.classList.add("hideButton")
  sentBlock.classList.remove("hideButton")
}